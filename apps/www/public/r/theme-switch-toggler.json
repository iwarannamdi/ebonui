{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "theme-switch-toggler",
  "title": "Theme Toggler",
  "description": "A component for theme changing animation.",
  "dependencies": [
    "lucide-react"
  ],
  "files": [
    {
      "path": "registry/ebonui/ui/theme-switch-toggler.tsx",
      "content": "\"use client\"\n\nimport { useEffect, useLayoutEffect, useState } from \"react\"\nimport { Moon, Sun } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\ninterface ThemeSwitcherToggleProps extends Omit<\n  React.ComponentPropsWithoutRef<\"button\">,\n  \"onClick\"\n> {\n  transitionDelay?: number\n}\n\nconst useTheme = () => {\n  const [theme, setTheme] = useState<\"light\" | \"dark\">(\"light\")\n\n  const updateFromDocument = () => {\n    const isDark = document.documentElement.classList.contains(\"dark\")\n    setTheme(isDark ? \"dark\" : \"light\")\n  }\n\n  useLayoutEffect(() => {\n    const storedTheme = localStorage.getItem(\"theme\") as \"light\" | \"dark\" | null\n    const prefersDark = window.matchMedia(\n      \"(prefers-color-scheme: dark)\"\n    ).matches\n    const initialTheme = storedTheme || (prefersDark ? \"dark\" : \"light\")\n\n    document.documentElement.classList.toggle(\"dark\", initialTheme === \"dark\")\n    setTheme(initialTheme)\n  }, [])\n\n  useEffect(() => {\n    const observer = new MutationObserver(updateFromDocument)\n    observer.observe(document.documentElement, {\n      attributes: true,\n      attributeFilter: [\"class\"],\n    })\n\n    const mediaQuery = window.matchMedia(\"(prefers-color-scheme: dark)\")\n    const handleChange = (e: MediaQueryListEvent) => {\n      if (!localStorage.getItem(\"theme\")) {\n        const newTheme = e.matches ? \"dark\" : \"light\"\n        document.documentElement.classList.toggle(\"dark\", newTheme === \"dark\")\n      }\n    }\n\n    mediaQuery.addEventListener(\"change\", handleChange)\n    return () => {\n      observer.disconnect()\n      mediaQuery.removeEventListener(\"change\", handleChange)\n    }\n  }, [])\n\n  const toggle = () => {\n    const newTheme = theme === \"light\" ? \"dark\" : \"light\"\n    document.documentElement.classList.toggle(\"dark\", newTheme === \"dark\")\n    localStorage.setItem(\"theme\", newTheme)\n    // State update will follow via observer\n  }\n\n  return { theme, toggle }\n}\n\nexport const ThemeSwitcherToggle = ({\n  className,\n  transitionDelay = 200,\n  ...props\n}: ThemeSwitcherToggleProps) => {\n  const { theme, toggle } = useTheme()\n  const isDark = theme === \"dark\"\n\n  return (\n    <button\n      onClick={toggle}\n      className={cn(\n        \"relative h-10 w-10 rounded-full border bg-white transition-all duration-300 ease-out hover:scale-110 active:scale-95 dark:bg-gray-800\",\n        className\n      )}\n      style={{ transitionDelay: `${transitionDelay}ms` }}\n      {...props}\n    >\n      {/* Sliding container for icons */}\n      <div className=\"relative h-full w-full overflow-hidden\">\n        <div\n          className={cn(\n            \"absolute inset-0 flex items-center justify-center transition-transform duration-500 ease-in-out\",\n            {\n              \"translate-x-0\": !isDark,\n              \"translate-x-full\": isDark,\n            }\n          )}\n        >\n          <Moon className=\"h-5 w-5 text-gray-950\" />\n        </div>\n        <div\n          className={cn(\n            \"absolute inset-0 flex items-center justify-center transition-transform duration-500 ease-in-out\",\n            {\n              \"translate-x-full\": !isDark,\n              \"translate-x-0\": isDark,\n            }\n          )}\n        >\n          <Sun className=\"h-5 w-5 text-white\" />\n        </div>\n      </div>\n      {/* Subtle shine overlay */}\n      <div\n        className=\"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent transition-opacity duration-500 dark:via-black/10\"\n        style={{\n          opacity: isDark ? 0.5 : 1,\n          transitionDelay: `${transitionDelay + 100}ms`,\n        }}\n      />\n    </button>\n  )\n}\n",
      "type": "registry:ui"
    }
  ],
  "css": {
    "::view-transition-old(root), ::view-transition-new(root)": {
      "animation": "none",
      "mix-blend-mode": "normal"
    }
  },
  "type": "registry:ui"
}